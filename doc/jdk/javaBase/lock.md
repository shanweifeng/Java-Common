# 锁

### synchronize(悲观锁)
> 不管数据存不存在竞争都会加锁，随着 并发量增加，且如果锁的时间比较长，其性能开销将会变得很大。

### Lock

### CAS算法--乐观锁的一种实现方式
> 基于冲突检测的乐观锁模式下，已经没有所谓的锁概念。
>> 每条线程都直接先去执行操作，计算完成后检测是否与其他线程存在共享数据竞争，如果没有则让此操作成功，如果存在共享数据竞争则可能不断地重新执行操作和检测，直到成功为止，可叫CAS自旋。

> 乐观锁的核心算法是CAS(Compare and Swap 比较并交换)，它涉及到三个操作数：内存值、预期值、新值。当且仅当预期值和内存值相等时才将内存值修改为新值。
>> 处理逻辑是：先检查某块内存的值是否跟之前我读取时的一样，如不一样则表示期间此内存值已经被别的线程修改过，舍弃本次操作，否则说明期间没有其他线程对此内存值操作，可以把新值设置给此块内存。

>> CAS比较交换保证原子性

### TimSort原理

